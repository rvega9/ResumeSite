<!DOCTYPE html>
<html lang="en">
<head>
    <title> Resumeeee </title>
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="index.css">
</head>
<body>
    <div class="main">
        <div class="left-section">
            <h1 id="name" class="name">Rowena<br/><strong>Vega</strong></h1>
            <p id="jobTitle" class="d_p">Web Developer</p>

            <div class="profile">
                <img src="profile.png"/>
                <br/><br/><br/>
                <h2>About Me</h2>
                <p id="aboutMe" class="about_p"> </p>
            </div>
            <br/>

            <p id="phone" class="p_h"><i class="bx bx-phone-call"></i></p>
            <p id="website" class="p_h"><i class="bx bx-globe"></i></p>
            <p id="location" class="p_h"><i class="bx bx-current-location"></i></p>

            <br/><br/>
            <h1>Languages</h1>
            <p id="languages">
                <p class="l_p">
                    <p class="language"></p>
                    <span class="circle1"></span>
                    <span class="circle2"></span>
                    <span class="circle3"></span>
                    <span class="circle4" style="background: transparent; border: 1px solid rgb(8, 7, 7);"></span>
                    <span class="circle5" style="background: transparent; border: 1px solid rgb(15, 14, 14);"></span>
                </p>

                <p class="l_p">
                    <p class="language"></p>
                    <span class="circle1"></span>
                    <span class="circle2"></span>
                    <span class="circle3"></span>
                    <span class="circle4"></span>
                    <span class="circle5"></span>
                </p>

                <p class="l_p">
                    <p class="language"></p>
                    <span class="circle1"></span>
                    <span class="circle2"></span>
                    <span class="circle3" style="background: transparent; border: 1px solid rgb(12, 11, 11);"></span>
                    <span class="circle4" style="background: transparent; border: 1px solid rgb(10, 9, 9);"></span>
                    <span class="circle5" style="background: transparent; border: 1px solid rgb(10, 9, 9);"></span>
                </p>

            </p>

        </div>
        <div class="right-section">

            <div class="content">

                <h3>Personal Information</h3>
                <div class="content-inner">
                    <h4 id="age">Age: </h4>
                    <h4 id="birthdate">Bithdate: </h4>
                    <h4 id="address"> Address: </h4>
                    <h4 id="email">Email: </h4>
                    <h4 id="status">Status: </h4>
                    <h4 id="religion">Religion: </h4>                    
                </div>

                <h3>Education</h3>
                <h4 id="education"></h4>
                <p class="para"></p>
                <br/>
                
                <h3>Work Experience</h3>
                <h4 id="workExperience"></h4>
                <p class="para"></p>
                <br/>

                <h3>Skills</h3>
                <h4 id="skills"></h4>
                <p class="para"></p>

            </div>
        </div>    

        <div class="clearfix"> </div>
    </div>

    <script >
        document.addEventListener("DOMContentLoaded", function () {
  fetch('https://resume-as4h.onrender.com/resumeData')
    .then(response => response.json())
    .then(data => {
      // Update personal information
      document.getElementById('aboutMe').textContent = data.personalInfo.aboutMe;
      document.getElementById('phone').textContent = data.personalInfo.contactNo;
      document.getElementById('website').textContent = data.personalInfo.website;
      document.getElementById('location').textContent = data.personalInfo.location;
      
      // Update languages
      const languagesList = document.getElementById('languages');
      data.languages.forEach((language, index) => {
        /*const listItem = document.createElement('li');
        listItem.textContent = language.language;
        languagesList.appendChild(listItem);*/
        /*const item = languagesList.querySelector(".l_p:nth-child("+(index + 1)+")");
        item.textContent = language.language;*/
        console.log("Index: "+index)
        const langItem = languagesList.querySelectorAll('.l_p')[index];
        langItem.querySelector('.language').textContent = language.language;
      });

      // Update personal info
      document.getElementById('age').textContent = "Age: " + data.leftInfo.age;
      document.getElementById('birthdate').textContent = "Birthdate: " + data.leftInfo.birthDate;
      document.getElementById('address').textContent = "Address: " + data.leftInfo.address;
      document.getElementById('email').textContent = "Email: " + data.leftInfo.email;
      document.getElementById('status').textContent = "Status: " + data.leftInfo.status;
      document.getElementById('religion').textContent = "Religion: " + data.leftInfo.religion;


      // Display education
      const educationContainer = document.getElementById('education');
      data.education.forEach(edu => {
          const eduDiv = document.createElement('div');
          eduDiv.classList.add('para'); // Add the "para" class
          eduDiv.innerHTML = `
              <h4>${edu.school}<h4>
              <p>${edu.year}</p>
          `;
          educationContainer.appendChild(eduDiv);
      });

      // Display work experience
        const workExperienceList = document.getElementById('workExperience');
        data.workExperience.forEach(work => {
            const workDiv = document.createElement('div');
            workDiv.classList.add('para'); // Add the "para" class
            workDiv.innerHTML = `
                <h4>${work.companyName}</h4>
                <p>${work.details} | ${work.year}</p>
            `;
            workExperienceList.appendChild(workDiv);
        });

      // Display education
      const skillsList = document.getElementById('skills');
      data.skills.forEach(skill => {
          const skillssDiv = document.createElement('div');
          skillssDiv.classList.add('para'); // Add the "para" class
          skillssDiv.innerHTML = `
              <h4>${skill.description}</h4>
              <p>${skill.expertiseLevel}</p>
          `;
          skillsList.appendChild(skillssDiv);
      });

    })
    .catch(error => console.error('Error fetching data:', error));
});

    </script>
</body>
</html>
